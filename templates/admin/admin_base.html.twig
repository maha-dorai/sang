<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Dashboard Admin{% endblock %} - BloodBank</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body { font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background:#f3f4f6; }
        .wrapper { display:flex; height:100vh; }
        .sidebar { width:260px; background:#dc2626; color:white; display:flex; flex-direction:column; height:100vh; position:fixed; }
        .sidebar-header { padding:25px 20px; border-bottom:1px solid rgba(255,255,255,0.1); }
        .sidebar-brand { display:flex; align-items:center; gap:12px; }
        .sidebar-brand i { font-size:32px; }
        .sidebar-brand-text h1 { font-size:22px; font-weight:700; margin:0; }
        .sidebar-brand-text p { font-size:12px; color:rgba(255,255,255,0.7); margin:0; }
        .sidebar-menu { flex:1; padding:20px 15px; overflow-y:auto; }
        .sidebar-menu a { display:flex; align-items:center; gap:12px; padding:12px 15px; color:rgba(255,255,255,0.8); text-decoration:none; border-radius:10px; margin-bottom:8px; transition:all 0.3s; font-weight:500; }
        .sidebar-menu a:hover { background:rgba(255,255,255,0.1); color:white; }
        .sidebar-menu a.active { background:#991b1b; color:white; }
        .sidebar-footer { padding:20px; border-top:1px solid rgba(255,255,255,0.1); }
        .admin-profile { display:flex; align-items:center; gap:12px; margin-bottom:15px; }
        .admin-avatar { width:45px; height:45px; background:#991b1b; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:700; font-size:18px; }
        .admin-info p { margin:0; font-size:14px; font-weight:600; }
        .admin-info small { font-size:12px; color:rgba(255,255,255,0.7); }
        .btn-logout { width:100%; padding:10px; background:#991b1b; border:none; color:white; border-radius:8px; font-weight:600; cursor:pointer; transition:all 0.3s; }
        .btn-logout:hover { background:#7f1d1d; }
        .main-content { flex:1; margin-left:260px; display:flex; flex-direction:column; height:100vh; overflow:hidden; }
        .topbar { background:white; padding:20px 30px; box-shadow:0 2px 10px rgba(0,0,0,0.05); }
        .topbar h2 { font-size:26px; font-weight:700; color:#1f2937; margin:0 0 5px 0; }
        .topbar p { color:#6b7280; font-size:14px; margin:0; }
        .content-area { flex:1; padding:30px; overflow-y:auto; }

        .stats-grid { display:grid; grid-template-columns:repeat(auto-fit, minmax(250px,1fr)); gap:1.5rem; margin-bottom:1.5rem; }
        .stat-card { background:white; border-radius:0.5rem; padding:1.5rem; box-shadow:0 1px 3px rgba(0,0,0,0.1); border-left:4px solid; transition:transform 0.2s; }
        .stat-card:hover { transform:translateY(-4px); }
        .stat-card-content { display:flex; justify-content:space-between; align-items:flex-start; }
        .stat-title { color:#6b7280; font-size:0.875rem; font-weight:500; margin:0; }
        .stat-value { font-size:2rem; font-weight:700; margin:0.5rem 0 0.25rem 0; }
    </style>
    {% block stylesheets %}{% endblock %}
</head>
<body>
<div class="wrapper">
    <aside class="sidebar">
        <div class="sidebar-header">
            <div class="sidebar-brand">
                <i class="bi bi-droplet-fill"></i>
                <div class="sidebar-brand-text">
                    <h1>BloodBank</h1>
                    <p>Administration</p>
                </div>
            </div>
        </div>

        <nav class="sidebar-menu">
            <a href="{{ path('admin_dashboard') }}" class="{{ app.request.attributes.get('_route') == 'admin_dashboard' ? 'active' : '' }}">
                <i class="bi bi-speedometer2"></i> Dashboard
            </a>
            {# Ajoutez d'autres liens ici #}
        </nav>
        <div class="sidebar-footer">
            <div class="admin-profile">
                <div class="admin-avatar">
                    {{ app.user.prenom|first|upper }}
                </div>
                <div class="admin-info">
    <p>{{ app.user.prenom }}</p> 
    <small>{{ app.user.email }}</small>
</div>
            </div>

            <form method="post" action="{{ path('app_logout') }}">
                <button type="submit" class="btn-logout">
                    <i class="bi bi-box-arrow-right me-2"></i> Déconnexion
                </button>
            </form>
        </div>
    </aside>

    <main class="main-content">
        <div class="topbar">
            <h2>{% block page_title %}Dashboard{% endblock %}</h2>
            <p>{% block page_subtitle %}Vue d'ensemble du système{% endblock %}</p>
        </div>
        <div class="content-area">
            {% block content %}{% endblock %}
        </div>
    </main>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
{% block javascripts %}{% endblock %}
</body>
</html>